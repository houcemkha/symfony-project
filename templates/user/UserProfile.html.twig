{% extends "_bases/base.html.twig" %}
{% block title %}Account Profile
{% endblock %}
{% block content %}
	<div data-bs-spy="scroll" class="scrollspy-example">
		<section id="landingFeatures" class="section-py landing-features" style=" padding: 7rem 0;">
			<img src="../nav/img/front-pages/backgrounds/cta-bg-light.png" id="imgbacktemp" class="position-absolute top-0 start-50 translate-middle-x object-fit-contain w-100 h-100"/>
			<div class="container-xxl flex-grow-1 container-p-y">
				<div class="row">
					<div class="col-12">
						<div class="card mb-4">
							<div class="user-profile-header-banner">
								<img src="../assets/img/backgrounds/profile-banner.png" alt="Banner image" class="rounded-top">
							</div>
							<div class="user-profile-header d-flex flex-column flex-sm-row text-sm-start text-center mb-4">
								<div class="flex-shrink-0 mt-n2 mx-sm-0 mx-auto">
									<img src="{{asset('uploads/' ~ UserDetail.image)}}" alt="user image" class="d-block h-auto ms-0 ms-sm-4 rounded user-profile-img">
								</div>
								<div class="flex-grow-1 mt-3 mt-sm-5">
									<div class="d-flex align-items-md-end align-items-sm-start align-items-center justify-content-md-between justify-content-start mx-4 flex-md-row flex-column gap-4">
										<div class="user-profile-info">
											<h4>{{UserDetail.name}} {{UserDetail.prename}}</h4>
											<ul class="list-inline mb-0 d-flex align-items-center flex-wrap justify-content-sm-start justify-content-center gap-2">
												<li class="list-inline-item fw-medium">
													<i class="bx bx-map"></i>{{UserDetail.country}}
												</li>
												<li class="list-inline-item fw-medium">
													<i class="bx bx-calendar-alt"></i>
													Joined {{ UserDetail.createdAt ? UserDetail.createdAt|date('d F Y') : '' }}
												</li>
											</ul>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-xl-4 col-lg-5 col-md-5">
						<div class="card mb-4">
							<div class="card-body">
								<small class="text-muted text-uppercase">A propos</small>
								<ul class="list-unstyled mb-4 mt-3">
									<li class="d-flex align-items-center mb-3">
										<i class="bx bx-user"></i>
										<span class="fw-medium mx-2">Nom complet:</span>
										<span>{{UserDetail.name}}
											{{UserDetail.prename}}</span>
									</li>
									<li class="d-flex align-items-center mb-3">
										<i class="bx bx-cake"></i>
										<span class="fw-medium mx-2">DOB:</span>
										<span>{{ UserDetail.birthday ? UserDetail.birthday|date('d F Y') : '' }}</span>
									</li>
									<li class="d-flex align-items-center mb-3">
										<i class="bx bx-check"></i>
										<span class="fw-medium mx-2">Verification:</span>
										<span>
											{% if UserDetail.isVerified == 1 %}Vérifié
											{% elseif UserDetail.isVerified == 0 %}
												Non vérifié
											{% endif %}
										</span>
									</li>
									<li class="d-flex align-items-center mb-3">
										<i class="bx bx-star"></i>
										<span class="fw-medium mx-2">Role:</span>
										<span>
											{% for role in UserDetail.roles %}
												{% if role == "ROLE_USER" %}User
													{% elseif role == "ROLE_ADMIN" %}Admin
												{% endif %}
												{% if not loop.last %},
												{% endif %}
											{% endfor %}
										</span>
									</li>
									<li class="d-flex align-items-center mb-3">
										<i class="bx bx-flag"></i>
										<span class="fw-medium mx-2">Pays:</span>
										<span>{{UserDetail.country}}</span>
									</li>
								</ul>
								<small class="text-muted text-uppercase">Contacts</small>
								<ul class="list-unstyled mb-4 mt-3">
									<li class="d-flex align-items-center mb-3">
										<i class="bx bx-phone"></i>
										<span class="fw-medium mx-2">Contact:</span>
										<span>(+216)
											{{UserDetail.phone}}</span>
									</li>
									<li class="d-flex align-items-center mb-3">
										<i class="bx bx-envelope"></i>
										<span class="fw-medium mx-2">Email:</span>
										<span>{{UserDetail.email}}</span>
									</li>
								</ul>
							</div>
						</div>
					</div>
					<div
						class="col-xl-8 col-lg-7 col-md-7">
							<div class="card card-action mb-4">
							<div class="card-header align-items-center">
								<h5 class="card-action-title mb-0">
									<i class="bx bx-list-ul me-2"></i>Overview</h5>
							</div>
							<div class="card-body">
								<ul class="timeline ms-2">
									<li class="timeline-item timeline-item-transparent">
										<span class="timeline-point-wrapper">
											<span class="timeline-point timeline-point-warning"></span>
										</span>
										<div class="timeline-event">
											<div class="timeline-header mb-1">
												<h6 class="mb-0">Projets: {% if UserDetail.projets==null %}0{% else %}{{UserDetail.projets}}{% endif %}</h6>
											</div>
										</div>
									</li>									
								</ul>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>
	</div>
{% endblock %}

